# Requirements

このフォルダは「何を満たすべきか」のSSOT。

## 機能要件

### 入力
- IPSS将来人口推計データ（CSV形式）
  - Table 1-9: 各歳人口（0-105歳、2020-2070年）
  - Table 1-9A: 5歳階級人口（5年刻み）
- 自動判定: 各歳データか5歳階級データかを自動検出

### 出力モード
1. **memo**: 静止画メモ（複数年を1枚に配置）
   - 対応フォーマット: PNG, PDF
   - レイアウト: 自動グリッド（年数可変）
   
2. **interactive**: Plotlyインタラクティブ版
   - 対応フォーマット: HTML
   - 操作: スライダー、ホイール、矢印キー
   
3. **animation**: アニメーション
   - 対応フォーマット: GIF, MP4
   - キーフレーム最適化（MP4のみ）
   
4. **lexis**: レキシス面ヒートマップ
   - 対応フォーマット: PNG

### パラメータ
- 年の選択: 明示指定 or start/end/step
- ピーク年齢の計算: 5年ローリング最大からコホート追跡
- コホート追跡: 任意の出生年を指定可能

## 非機能要件

- 51年分のアニメーション生成: 30秒以内
- インタラクティブ版のファイルサイズ: 10MB以内
- Python 3.10+ 対応

## 関連

- [SSOT Index](../../SSOT.md)
- [ADR](../adr/)
